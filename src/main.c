#include "main.h"

int main(int argc, char* argv[])
{
    if (argc<=1)
    {
        fprintf(stderr,"[" RED("-") "] Incorrect Usage\n");
        help(argv[0]);
    }

    char ch;
    char *url = NULL;
    char *file = NULL;

    while((ch = getopt(argc, argv, "u:hf:")) != EOF)
    { 
        switch(ch) 
        { 
            case 'h': 
                help(argv[0]);
                break;
            case 'u':
                url = optarg;
                break;
            case 'f': 
                file = optarg;
                break;
            default:
                help(argv[0]);
        } 
    } 

    if (url==NULL)
    {
        help(argv[0]);
    }
 
    if(file == NULL)
    {
        file="ThinVnc.ini";
    }

    showvalues(url,file);
    GET_URL(url,file); 
    GET_FILE(url,file);   
        
    return 0;
}